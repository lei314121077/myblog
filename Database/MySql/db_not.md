# mysql 相关

## mysql 锁
当计算机协程或进程并发对数据库资源进行高并发的读写的时候，为了保证数据的一致性和有效性，mysql数据库设计了锁机制。mysql的锁分3个等级，表级锁、行级锁、页级锁。很难去评判哪种锁更好，只能相对于所处的业务场景来选择更加适合的锁机制。如果仅从锁的角度来看，表级锁更适合以查询为主的应用场景，而行级锁则更适合于大量按索引条件并发更新少量数据的应用场景。

* 表级锁：开销小，加锁快；不会出现死锁；锁定粒度大，发生锁冲突的概率最高，并发度最低。
* 行级锁：开销大，加锁慢；会出现死锁；锁定粒度最小，发生锁冲突的概率最低，并发度也最高。
* 页面锁：开销和加锁时间界于表锁和行锁之间；会出现死锁；锁定粒度界于表锁和行锁之间，并发度一般 

### MySQL表级锁

* MySQL表级锁的锁模式（MyISAM)
   
   * 并发锁
   
   * 共享锁

## mysql oneproxy

* 读写分离

* 分表分库







